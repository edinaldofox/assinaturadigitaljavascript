<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8"/>
		<title>Assinatura Digital via JavaScript</title>

		<meta name="viewport" content="width=device-width, initial-scale=1" />

		<link href="http://fonts.googleapis.com/css?family=Raleway:400,700" rel="stylesheet" />
		<link href="assets/css/style.css" rel="stylesheet" />

		<script language="JavaScript" type="text/javascript" src="jsrsasign/ext/jsbn.js"></script>
		<script language="JavaScript" type="text/javascript" src="jsrsasign/ext/jsbn2.js"></script>
		<script language="JavaScript" type="text/javascript" src="jsrsasign/ext/rsa.js"></script>
		<script language="JavaScript" type="text/javascript" src="jsrsasign/ext/rsa2.js"></script>
		<script language="JavaScript" type="text/javascript" src="jsrsasign/ext/base64.js"></script>

		<!-- for crypto.js -->
		<script src="http://yui.yahooapis.com/2.9.0/build/yahoo/yahoo-min.js"></script>
		<script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/components/core.js"></script>
		<script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/components/md5.js"></script>
		<script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/components/sha1.js"></script>
		<script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/components/sha256.js"></script>
		<script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/components/ripemd160.js"></script>
		<script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/components/x64-core.js"></script>
		<script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/components/sha512.js"></script>

		<script language="JavaScript" type="text/javascript" src="jsrsasign/rsapem-1.1.js"></script>
		<script language="JavaScript" type="text/javascript" src="jsrsasign/rsasign-1.2.js"></script>
		<script language="JavaScript" type="text/javascript" src="jsrsasign/asn1hex-1.1.js"></script>
		<script language="JavaScript" type="text/javascript" src="jsrsasign/x509-1.1.js"></script>
		<script language="JavaScript" type="text/javascript" src="jsrsasign/crypto-1.1.js"></script>

	</head>

	<body>

		<a class="back"></a>

		<div id="stage">

			<div id="step1">
				<div class="content">
					<h1>Assinatura Digital via JavaScript</h1>
					<a class="button encrypt green">Assinar um arquivo</a>
					<a class="button decrypt magenta">Verificar assinatura</a>
				</div>
			</div>

			<div id="step2">

				<div class="content if-encrypt">				

					<!-- Selecionar o arquivo -->
					<h1>Escolha um arquivo para assinar</h1>
					<h2>Uma cópia assinada do arquivo será gerado. Nenhum dado é enviado para o nosso servidor.</h2>
					<a class="button browse blue">Selecionar</a>

					<input type="file" id="encrypt-input" />
				</div>

				<div class="content if-decrypt">
					<h1>Escolha um arquivo verificar a assinatura</h1>
					<h2>Apenas arquivos assinados serão aceitos.</h2>
					<a class="button browse blue">Selecionar</a>

					<input type="file" id="decrypt-input" />
				</div>

			</div>

			<div id="step3">				

				<div class="content if-encrypt">					

					<!-- Chave privada de assinatura -->
					<h1>Insira a chave privada</h1>
					<h2>Esta chave vai ser utilizada a assinatura do documento. Não a perca, sem ela você não será capaz de verificar o arquivo.</h2>

					<textarea id="prvkey" name="prvkey" rows="10" cols="65">-----BEGIN RSA PRIVATE KEY-----
					MIICWwIBAAKBgQDRhGF7X4A0ZVlEg594WmODVVUIiiPQs04aLmvfg8SborHss5gQXu0aIdUT6nb5rTh5hD2yfpF2WIW6M8z0WxRhwicgXwi80H1aLPf6lEPPLvN29EhQNjBpkFkAJUbS8uuhJEeKw0cE49g80eBBF4BCqSL6PFQbP9/rByxdxEoAIQIDAQABAoGAA9/q3Zk6ib2GFRpKDLO/O2KMnAfR+b4XJ6zMGeoZ7Lbpi3MW0Nawk9ckVaX0ZVGqxbSIX5Cvp/yjHHpww+QbUFrw/gCjLiiYjM9E8C3uAF5AKJ0r4GBPl4u8K4bpbXeSxSB60/wPQFiQAJVcA5xhZVzqNuF3EjuKdHsw+dk+dPECQQDubX/lVGFgD/xYuchz56Yc7VHX+58BUkNSewSzwJRbcueqknXRWwj97SXqpnYfKqZq78dnEF10SWsr/NMKi+7XAkEA4PVqDv/OZAbWr4syXZNv/Mpl4r5suzYMMUD9U8B2JIRnrhmGZPzLx23N9J4hEJ+Xh8tSKVc80jOkrvGlSv+BxwJAaTOtjA3YTV+gU7Hdza53sCnSw/8FYLrgc6NOJtYhX9xqdevbyn1lkU0zPr8mPYg/F84m6MXixm2iuSz8HZoyzwJARi2paYZ5/5B2lwroqnKdZBJMGKFpUDn7Mb5hiSgocxnvMkv6NjT66Xsi3iYakJII9q8CMa1qZvT/cigmdbAh7wJAQNXyoizuGEltiSaBXx4H29EdXNYWDJ9SS5f070BRbAIldqRh3rcNvpY6BKJqFapda1DjdcncZECMizT/GMrc1w==
					-----END RSA PRIVATE KEY-----
					</textarea>

					<a class="button continue red">Continuar</a>
				</div>

				<div class="content if-decrypt">
					<h1>Insira o certificado da chave pública</h1>
					<h2>Digite a chave pública do assinante para verificar este arquivo. Não será possível verificar sem ela.</h2>

					<textarea id="pubkey" name="pubkey" rows="10" cols="65"></textarea>
					<a class="button continue red">Continuar</a>
				</div>

			</div>

			<div id="step4">

				<div class="content if-encrypt">
					<!-- Algoritimo de assinatura -->					
					<h1>Selecione o algoritmo de criptografia</h1>			
					
					<select id="algorithm" name="hashalg">
						<option value="sha1" selected>SHA1
						<option value="sha256">SHA256
						<option value="sha512">SHA512
						<option value="md5">MD5
						<option value="ripemd160">RIPEMD-160
					</select>
					<a class="button sign green">Assinar!</a>
				</div>

				<div class="content if-decrypt">
					<h1>Insira a assinatura para verificação</h1>

					<textarea id="signature" name="signature" rows="10" cols="65"></textarea>
					<a class="button check magenta">Verificar!</a>
				</div>

			</div>

			<div id="step5">

				<div class="content">
					<h1>Seu arquivo foi assinado!</h1>
					<h2>Baixe a assinatura do arquivo!</h2>
					<a class="button download green">Download</a>
				</div>

			</div>

		</div>

	</body>

	<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script src="assets/js/script.js"></script>

</html>
